<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ViAlg: main.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6-NO -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>main.cpp</h1><a href="main_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00002"></a>00002 <span class="comment">| File name: main.cpp                                                                                                      |</span>
<a name="l00003"></a>00003 <span class="comment">| Date:          4th October 2005                                                                                              |</span>
<a name="l00004"></a>00004 <span class="comment">| Author:        Fen                                                                                                                       |</span>
<a name="l00005"></a>00005 <span class="comment">+------------------------------------------------------------------------------+</span>
<a name="l00006"></a>00006 <span class="comment">| The Main File of the ViAlg project                                           |</span>
<a name="l00007"></a>00007 <span class="comment">| The Framework is based on the NeHe tutorials and code to the "Focus on 3D    |</span>
<a name="l00008"></a>00008 <span class="comment">| Terrain Programming" by Trent Polack.                                                                |</span>
<a name="l00009"></a>00009 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;exception&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;typeinfo.h&gt;</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include "<a class="code" href="cgl__app_8h.html">cgl_app.h</a>"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "<a class="code" href="clog_8h.html">clog.h</a>"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "<a class="code" href="tg__math_8h.html">tg_math.h</a>"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include "<a class="code" href="ctimer_8h.html">ctimer.h</a>"</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#include "<a class="code" href="gl__text_8h.html">gl_text.h</a>"</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include "<a class="code" href="gl__camera_8h.html">gl_camera.h</a>"</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include "<a class="code" href="gl__shapes_8h.html">gl_shapes.h</a>"</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include "<a class="code" href="gl__light_8h.html">gl_light.h</a>"</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include "<a class="code" href="gl__texture_8h.html">gl_texture.h</a>"</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="preprocessor">#include "<a class="code" href="av__system_8h.html">av_system.h</a>"</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include "<a class="code" href="av__data_8h.html">av_data.h</a>"</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include "<a class="code" href="calgorithms_8h.html">calgorithms.h</a>"</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="resource_8h.html">resource.h</a>"</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="keyword">using namespace </span>std;
<a name="l00033"></a>00033 
<a name="l00034"></a><a class="code" href="main_8cpp.html#4459f142c076eeba4121a567874bb522">00034</a> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="main_8cpp.html#4459f142c076eeba4121a567874bb522">fTempoDelta</a> = 500.0;  <span class="comment">// beats per minute (bpm)</span>
<a name="l00035"></a><a class="code" href="main_8cpp.html#c78358d4f9c2a6c773c0ac4aa4e75cb0">00035</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#c78358d4f9c2a6c773c0ac4aa4e75cb0">iElementsDelta</a> = 10;
<a name="l00036"></a><a class="code" href="main_8cpp.html#e34990b15009f0a69b07c3fa04f0c046">00036</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#e34990b15009f0a69b07c3fa04f0c046">iElementsMin</a> = 20;
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="comment">// global variables/objects ---------------------------------------------------+</span>
<a name="l00039"></a><a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">00039</a> <a class="code" href="classCGLApp.html">CGLApp</a> <a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>;
<a name="l00040"></a><a class="code" href="main_8cpp.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">00040</a> <a class="code" href="classCLog.html">CLog</a> <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>;
<a name="l00041"></a><a class="code" href="main_8cpp.html#388219c65df20c9529b9a5c5a4eccf82">00041</a> <a class="code" href="classCTimer.html">CTimer</a> <a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>;
<a name="l00042"></a><a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">00042</a> <a class="code" href="classCGLFont.html">CGLFont</a> <a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>;
<a name="l00043"></a><a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">00043</a> <a class="code" href="classCCamera.html">CCamera</a> <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>;
<a name="l00044"></a><a class="code" href="main_8cpp.html#070297b8bded494d5b27f0bf6b5e9d83">00044</a> <a class="code" href="classCGLLight.html">CGLLight</a> <a class="code" href="main_8cpp.html#070297b8bded494d5b27f0bf6b5e9d83">g_Light</a>;
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="comment">// textures' ids:</span>
<a name="l00047"></a><a class="code" href="main_8cpp.html#5d3bc4c188c7b437d174ec3964e0c1ae">00047</a> GLuint <a class="code" href="main_8cpp.html#5d3bc4c188c7b437d174ec3964e0c1ae">g_iTexFloor</a>;
<a name="l00048"></a><a class="code" href="main_8cpp.html#888afb439dd9e6a43f078a4fabaae502">00048</a> GLuint <a class="code" href="main_8cpp.html#888afb439dd9e6a43f078a4fabaae502">g_iTexFrame</a>;
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="comment">// switches:</span>
<a name="l00051"></a><a class="code" href="main_8cpp.html#4a51458aac5fd8fdde1a026c3990f4b1">00051</a> <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#4a51458aac5fd8fdde1a026c3990f4b1">g_bLight</a>;
<a name="l00052"></a><a class="code" href="main_8cpp.html#ed15dddfb8f346cbb42523e9eab02ccc">00052</a> <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#ed15dddfb8f346cbb42523e9eab02ccc">g_bTextured</a>;
<a name="l00053"></a><a class="code" href="main_8cpp.html#eb04b0a6c94e8540882c182395e70efb">00053</a> <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#eb04b0a6c94e8540882c182395e70efb">g_bReflection</a>;
<a name="l00054"></a><a class="code" href="main_8cpp.html#4b226e7bb05a9c1fa93110f6e57eef7e">00054</a> <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#4b226e7bb05a9c1fa93110f6e57eef7e">g_bFloor</a>;
<a name="l00055"></a><a class="code" href="main_8cpp.html#3d1dbc6e154b6dd00bbe658019b476a9">00055</a> <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#3d1dbc6e154b6dd00bbe658019b476a9">g_bInfo</a>;
<a name="l00056"></a><a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">00056</a> <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a>;
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="comment">// algorithms:</span>
<a name="l00059"></a><a class="code" href="main_8cpp.html#4c270a22d9730d712754760f43d10126">00059</a> <span class="preprocessor">#define NUM_ALGORITHMS 5</span>
<a name="l00060"></a><a class="code" href="main_8cpp.html#b03b7bb701df8cc567ba4aa704c5bf05">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define ABUBBLE_SORT 0</span>
<a name="l00061"></a><a class="code" href="main_8cpp.html#bf5f84179761bb68c8cf82a868a8f851">00061</a> <span class="preprocessor"></span><span class="preprocessor">#define ASHAKER_SORT 1</span>
<a name="l00062"></a><a class="code" href="main_8cpp.html#881bc566110402027f608e8e4bccd48a">00062</a> <span class="preprocessor"></span><span class="preprocessor">#define ASELECTION_SORT 2</span>
<a name="l00063"></a><a class="code" href="main_8cpp.html#476a6daba039f4c1fab38f670acb39b0">00063</a> <span class="preprocessor"></span><span class="preprocessor">#define AINSERTION_SORT 3</span>
<a name="l00064"></a><a class="code" href="main_8cpp.html#940b5e7090219a4d69c48e0ddfaaf4ab">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define ASHELL_SORT 4</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span>
<a name="l00066"></a><a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">00066</a> <a class="code" href="classCAlgorithm.html">CAlgorithm</a> *<a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#4c270a22d9730d712754760f43d10126">NUM_ALGORITHMS</a>];
<a name="l00067"></a><a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">00067</a> <a class="code" href="classCAlgManager.html">CAlgManager</a> *<a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>;
<a name="l00068"></a><a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">00068</a> <a class="code" href="classCAVSystem.html">CAVSystem</a> *<a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>;
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="comment">// functions' prototypes ------------------------------------------------------+</span>
<a name="l00071"></a>00071 <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#6115808ec1fe71451658e0a343e2b2c0">InitApp</a>();
<a name="l00072"></a>00072 <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#11f604c037b7f5d41ea2d07adb986faa">InitGL</a>();
<a name="l00073"></a>00073 <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#bfc30f91ab75c6f4552003f777672e74">CleanUp</a>();
<a name="l00074"></a>00074 <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#eb676f5a59a2d370c0dc2d253cbcbb16">ResizeGLScene</a>(<span class="keywordtype">int</span> iWidth, <span class="keywordtype">int</span> iHeight, <span class="keywordtype">bool</span> bView = <span class="keyword">false</span>);
<a name="l00075"></a>00075 <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#2fe48e89660e455d6353c1f28bc3d161">RenderScene</a>();
<a name="l00076"></a>00076 <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#5b44fcf8665217a0dfdfde3c32b53d5d">UpdateAnimation</a>();
<a name="l00077"></a>00077 <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#d14d9ff9618cb92d47a151f959e7eea7">DrawFloor</a>();
<a name="l00078"></a>00078 <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#e63daae0623a379d18de0b216f6a08c6">ProcessKeyboard</a>();
<a name="l00079"></a>00079 <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#577eddbf0174bfcbf873324eea6de777">OnMenuCommand</a>(WORD iId, HMENU hMenu);
<a name="l00080"></a>00080 <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#8e8b62866f82f676bfd492cd6a2f94db">OnExit</a>();
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00083"></a>00083 <span class="comment">|                                    MAIN                                      |</span>
<a name="l00084"></a>00084 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00085"></a><a class="code" href="main_8cpp.html#b5c5f1cda5fc6907de5b60636f664e7a">00085</a> <span class="keywordtype">int</span> WINAPI <a class="code" href="main_8cpp.html#b5c5f1cda5fc6907de5b60636f664e7a">WinMain</a>(HINSTANCE current_in, HINSTANCE prev_in, LPSTR cmdl, <span class="keywordtype">int</span> n_show) {
<a name="l00086"></a>00086         
<a name="l00087"></a>00087         <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#4ce130e62cfb856d12abdb6b1561a159">Init</a>(<span class="stringliteral">"log.html"</span>);
<a name="l00088"></a>00088         <span class="keywordflow">try</span> {
<a name="l00089"></a>00089                 <a class="code" href="main_8cpp.html#6115808ec1fe71451658e0a343e2b2c0">InitApp</a>();
<a name="l00090"></a>00090         }
<a name="l00091"></a>00091         <span class="keywordflow">catch</span> (exception &amp;e) {
<a name="l00092"></a>00092                 <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#302f340043913af198c8c2498e81242b">AddMsg</a>(<a class="code" href="clog_8h.html#7109d46097bed1f60727a567312e9c4f5a141ba18ab64bc5820148d1c2bba649">lmError</a>, <span class="stringliteral">"Exception was thrown: type: %s - message: %s"</span>, <span class="keyword">typeid</span>(e).name(), e.what());
<a name="l00093"></a>00093                 MessageBox(NULL, e.what(), <span class="stringliteral">"Exception!"</span>, MB_OK | MB_ICONSTOP);
<a name="l00094"></a>00094                 <a class="code" href="main_8cpp.html#bfc30f91ab75c6f4552003f777672e74">CleanUp</a>();
<a name="l00095"></a>00095                 <span class="keywordflow">return</span> 1;
<a name="l00096"></a>00096         }
<a name="l00097"></a>00097 
<a name="l00098"></a>00098         <span class="keywordtype">int</span> iMsg;
<a name="l00099"></a>00099         <span class="keywordflow">while</span> (1) {
<a name="l00100"></a>00100                 iMsg = <a class="code" href="classCGLApp.html#bd99ae6cd415125dae03f1e562a1cae9">CGLApp::CheckWindowMessages</a>();
<a name="l00101"></a>00101                 
<a name="l00102"></a>00102                 <span class="comment">// Quit?</span>
<a name="l00103"></a>00103                 <span class="keywordflow">if</span> (iMsg == 0 &amp;&amp; !<a class="code" href="main_8cpp.html#8e8b62866f82f676bfd492cd6a2f94db">OnExit</a>()) <span class="keywordflow">break</span>;
<a name="l00104"></a>00104                 
<a name="l00105"></a>00105                 <span class="comment">// any Massages for the window ?</span>
<a name="l00106"></a>00106                 <span class="keywordflow">if</span> (iMsg &gt; 0) <span class="keywordflow">continue</span>;
<a name="l00107"></a>00107                 
<a name="l00108"></a>00108                 <span class="comment">// is application window active?</span>
<a name="l00109"></a>00109                 <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#7451ec6e63891f25f404847610e89b08">IsActive</a>() == <span class="keyword">false</span>) <span class="keywordflow">continue</span>;
<a name="l00110"></a>00110                         
<a name="l00111"></a>00111                 <span class="keywordflow">if</span> (!<a class="code" href="main_8cpp.html#e63daae0623a379d18de0b216f6a08c6">ProcessKeyboard</a>() &amp;&amp; !<a class="code" href="main_8cpp.html#8e8b62866f82f676bfd492cd6a2f94db">OnExit</a>()) <span class="keywordflow">break</span>;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113                 <a class="code" href="main_8cpp.html#5b44fcf8665217a0dfdfde3c32b53d5d">UpdateAnimation</a>();
<a name="l00114"></a>00114                 <a class="code" href="main_8cpp.html#2fe48e89660e455d6353c1f28bc3d161">RenderScene</a>(); 
<a name="l00115"></a>00115 
<a name="l00116"></a>00116                 glFlush();
<a name="l00117"></a>00117                 SwapBuffers(<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#6839de845b2883565b9657d32df3cbda">GetHdc</a>());
<a name="l00118"></a>00118         }
<a name="l00119"></a>00119 
<a name="l00120"></a>00120         <a class="code" href="main_8cpp.html#bfc30f91ab75c6f4552003f777672e74">CleanUp</a>();
<a name="l00121"></a>00121 
<a name="l00122"></a>00122         <span class="keywordflow">return</span> 0;
<a name="l00123"></a>00123 }
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00126"></a>00126 <span class="comment">|                                  InitApp                                     |</span>
<a name="l00127"></a>00127 <span class="comment">+------------------------------------------------------------------------------+</span>
<a name="l00128"></a>00128 <span class="comment">| Description:                                                                                                                             |</span>
<a name="l00129"></a>00129 <span class="comment">|    Initialises all of the application.                                       | </span>
<a name="l00130"></a>00130 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00131"></a><a class="code" href="main_8cpp.html#6115808ec1fe71451658e0a343e2b2c0">00131</a> <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#6115808ec1fe71451658e0a343e2b2c0">InitApp</a>() {        
<a name="l00132"></a>00132         <a class="code" href="classCGLApp.html#cf3c046e0c7d0f11519bae802d8776e0">CGLApp::m_iBpp</a> = 32;
<a name="l00133"></a>00133         <a class="code" href="classCGLApp.html#124d7f98345d17e310cafc53482e8fa5">CGLApp::m_iWidth</a> = 640;
<a name="l00134"></a>00134         <a class="code" href="classCGLApp.html#f9c571f573451e19e0149cd5efc16e07">CGLApp::m_iHeight</a> = 480;
<a name="l00135"></a>00135         <a class="code" href="classCGLApp.html#dc3b4b312a8f389dda115f6288183e35">CGLApp::m_bFullscreen</a> = <span class="keyword">false</span>;
<a name="l00136"></a>00136         sprintf_s(<a class="code" href="classCGLApp.html#4c473951321fd40f7b6db9989fbf1bbc">CGLApp::m_szTitle</a>, <span class="stringliteral">"ViAlg"</span>);
<a name="l00137"></a>00137         
<a name="l00138"></a>00138         <span class="keywordflow">if</span> (!<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#19b4b1576dc4978a634f054d312e2374">Init</a>(<a class="code" href="resource_8h.html#06a7fc23695fe1e5b76ab4be087c18e8">IDR_MENU1</a>, &amp;<a class="code" href="main_8cpp.html#577eddbf0174bfcbf873324eea6de777">OnMenuCommand</a>)) <span class="keywordflow">throw</span> exception(<span class="stringliteral">"Failed in initialising the Application"</span>);
<a name="l00139"></a>00139         <span class="keywordflow">else</span> <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#302f340043913af198c8c2498e81242b">AddMsg</a>(<a class="code" href="clog_8h.html#7109d46097bed1f60727a567312e9c4f499fbc8aa7dd517df9e2bf9d49cf68e8">lmSuccess</a>, <span class="stringliteral">"Main window of the application has been created!"</span>);
<a name="l00140"></a>00140 
<a name="l00141"></a>00141         <span class="keywordflow">if</span> (!<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#cafaaa8838bd9c3566181a8fbead82ec">Init</a>()) <span class="keywordflow">throw</span> exception(<span class="stringliteral">"High Performance Timer not available!"</span>);
<a name="l00142"></a>00142         <span class="keywordflow">else</span> <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#302f340043913af198c8c2498e81242b">AddMsg</a>(<a class="code" href="clog_8h.html#7109d46097bed1f60727a567312e9c4f499fbc8aa7dd517df9e2bf9d49cf68e8">lmSuccess</a>, <span class="stringliteral">"High Performance Timer available!"</span>);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144         <a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#59ec47b172055985817c3db8f8bcc17c">SetRenderProc</a>(&amp;<a class="code" href="main_8cpp.html#2fe48e89660e455d6353c1f28bc3d161">RenderScene</a>);
<a name="l00145"></a>00145 
<a name="l00146"></a>00146     <a class="code" href="tg__math_8cpp.html#1e608e4053507f7bbb30d8bf3462d6ee">BuildSinCosTables</a>();
<a name="l00147"></a>00147         srand((<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)time(NULL));
<a name="l00148"></a>00148 
<a name="l00149"></a>00149         <a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#b03b7bb701df8cc567ba4aa704c5bf05">ABUBBLE_SORT</a>] = <span class="keyword">new</span> <a class="code" href="classCBubbleSortAlgorithm.html">CBubbleSortAlgorithm</a>();
<a name="l00150"></a>00150         <a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#bf5f84179761bb68c8cf82a868a8f851">ASHAKER_SORT</a>] = <span class="keyword">new</span> <a class="code" href="classCShakerSortAlgorithm.html">CShakerSortAlgorithm</a>();
<a name="l00151"></a>00151         <a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#881bc566110402027f608e8e4bccd48a">ASELECTION_SORT</a>] = <span class="keyword">new</span> <a class="code" href="classCSelectionSortAlgorithm.html">CSelectionSortAlgorithm</a>();
<a name="l00152"></a>00152         <a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#476a6daba039f4c1fab38f670acb39b0">AINSERTION_SORT</a>] = <span class="keyword">new</span> <a class="code" href="classCInsertionSortAlgorithm.html">CInsertionSortAlgorithm</a>();
<a name="l00153"></a>00153         <a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#940b5e7090219a4d69c48e0ddfaaf4ab">ASHELL_SORT</a>] = <span class="keyword">new</span> <a class="code" href="classCShellSortAlgorithm.html">CShellSortAlgorithm</a>();
<a name="l00154"></a>00154         <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a> = <span class="keyword">new</span> <a class="code" href="classCAlgManager.html">CAlgManager</a>();
<a name="l00155"></a>00155         <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#8baa36d16302380cc916bc78ed18cc10">SetTempo</a>(3000.0);
<a name="l00156"></a>00156         <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#472534106f921284eb0e7a2052682cd2">SetNumOfElements</a>(100);
<a name="l00157"></a>00157         <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#208bde6e8f27b0dfe846c1ee275dc837">GenerateData</a>(<a class="code" href="av__data_8h.html#16437c85ca4b66fa49b66d583614197766f0669855781e952c99168c21dec2ba">doSpecialRandomized</a>);
<a name="l00158"></a>00158         <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#fc07b655f9f4f582c26264daea65ca6f">SetAlgorithm</a>(<a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#b03b7bb701df8cc567ba4aa704c5bf05">ABUBBLE_SORT</a>]);
<a name="l00159"></a>00159 
<a name="l00160"></a>00160         <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a> = <span class="keyword">new</span> <a class="code" href="classCAVSystem.html">CAVSystem</a>();
<a name="l00161"></a>00161         <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#78b844aff8bd00c06548b0c84f851496">SetMaxSize</a>(5.0f, 1.0f, 1.0f);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163         <a class="code" href="main_8cpp.html#5d3bc4c188c7b437d174ec3964e0c1ae">g_iTexFloor</a> = <a class="code" href="gl__texture_8cpp.html#eaf8ebbfe5229d9dd1bfcf3f886849fe">LoadTextureFromBmp</a>(<span class="stringliteral">"data\\f.bmp"</span>, GL_BGR_EXT, GL_LINEAR_MIPMAP_LINEAR);
<a name="l00164"></a>00164         <a class="code" href="main_8cpp.html#888afb439dd9e6a43f078a4fabaae502">g_iTexFrame</a> = <a class="code" href="gl__texture_8cpp.html#eaf8ebbfe5229d9dd1bfcf3f886849fe">LoadTextureFromBmp</a>(<span class="stringliteral">"data\\frame.bmp"</span>, GL_BGR_EXT, GL_LINEAR_MIPMAP_LINEAR);
<a name="l00165"></a>00165 
<a name="l00166"></a>00166         <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#1ad84a75f0650f5e2aab15943960f131">SetDiagramBlockInfo</a>(<a class="code" href="av__system_8h.html#54420623f26ab6bb61042b41cccf37a3e1d55c9f768819667600d345d023db00">btBox</a>, <a class="code" href="classVECTOR3D.html">VECTOR3D</a>(0.3f, 0.4f, 0.9f),       <span class="comment">// normal color</span>
<a name="l00167"></a>00167                                                   <a class="code" href="classVECTOR3D.html">VECTOR3D</a>(0.4f, 1.0f, 0.4f),        <span class="comment">// marked</span>
<a name="l00168"></a>00168                                                                                   <a class="code" href="classVECTOR3D.html">VECTOR3D</a>(0.4f, 0.6f, 0.99f));      <span class="comment">// highlighted </span>
<a name="l00169"></a>00169         <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#7b948bef8f584bb3cb138b39f0014b0c">SetOutlook</a>(<a class="code" href="classVECTOR3D.html">VECTOR3D</a>(0.8f, 0.7f, 0.3f), <a class="code" href="main_8cpp.html#888afb439dd9e6a43f078a4fabaae502">g_iTexFrame</a>);
<a name="l00170"></a>00170         <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#0748385ced3ca1a69481020e3b7c0045">m_bTextured</a> = <span class="keyword">false</span>;
<a name="l00171"></a>00171 
<a name="l00172"></a>00172     <span class="comment">// switches:</span>
<a name="l00173"></a>00173         <a class="code" href="main_8cpp.html#4a51458aac5fd8fdde1a026c3990f4b1">g_bLight</a> = <span class="keyword">true</span>;
<a name="l00174"></a>00174         CheckMenuItem(<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#f7ba407561ee8d91f01c39ef42350905">m_hMenu</a>, <a class="code" href="resource_8h.html#b0ac3e170489dc234566ef9028239489">ID_VIEW_LIGHT</a>, MF_CHECKED);
<a name="l00175"></a>00175         <a class="code" href="main_8cpp.html#ed15dddfb8f346cbb42523e9eab02ccc">g_bTextured</a> = <span class="keyword">false</span>;
<a name="l00176"></a>00176         CheckMenuItem(<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#f7ba407561ee8d91f01c39ef42350905">m_hMenu</a>, <a class="code" href="resource_8h.html#28a1875884d8f79c277af24a0e3d801a">ID_VIEW_TEXTURED</a>, MF_UNCHECKED);
<a name="l00177"></a>00177         <a class="code" href="main_8cpp.html#eb04b0a6c94e8540882c182395e70efb">g_bReflection</a> = <span class="keyword">true</span>;
<a name="l00178"></a>00178         CheckMenuItem(<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#f7ba407561ee8d91f01c39ef42350905">m_hMenu</a>, <a class="code" href="resource_8h.html#95112e47bcf30a8eca4c4ee315dce251">ID_VIEW_REFLECTION</a>, MF_CHECKED);
<a name="l00179"></a>00179         <a class="code" href="main_8cpp.html#4b226e7bb05a9c1fa93110f6e57eef7e">g_bFloor</a> = <span class="keyword">true</span>;
<a name="l00180"></a>00180         CheckMenuItem(<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#f7ba407561ee8d91f01c39ef42350905">m_hMenu</a>, <a class="code" href="resource_8h.html#650d921baf07e9a89e5bc026db41fcad">ID_VIEW_FLOOR</a>, MF_CHECKED);
<a name="l00181"></a>00181         <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#3ddebf1df7223b136773b941d95736ca">m_bFrame</a> = <span class="keyword">true</span>;
<a name="l00182"></a>00182         CheckMenuItem(<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#f7ba407561ee8d91f01c39ef42350905">m_hMenu</a>, <a class="code" href="resource_8h.html#a35f6f8cbbd2787f123a13e52f9cb18b">ID_VIEW_FRAME</a>, MF_CHECKED);
<a name="l00183"></a>00183         <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#98c098872b6d537f6e740aa9dd638ab6">m_bHoriz</a> = <span class="keyword">false</span>;
<a name="l00184"></a>00184         CheckMenuItem(<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#f7ba407561ee8d91f01c39ef42350905">m_hMenu</a>, <a class="code" href="resource_8h.html#7018013bd57cdae04e2d4c7d1c168f14">ID_VIEW_HORIZ</a>, MF_UNCHECKED);
<a name="l00185"></a>00185         <a class="code" href="main_8cpp.html#3d1dbc6e154b6dd00bbe658019b476a9">g_bInfo</a> = <span class="keyword">true</span>;
<a name="l00186"></a>00186         CheckMenuItem(<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#f7ba407561ee8d91f01c39ef42350905">m_hMenu</a>, <a class="code" href="resource_8h.html#4d98b25e0f67a6f702d783d9df3508b1">ID_VIEW_INFO</a>, MF_CHECKED);
<a name="l00187"></a>00187         <a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a> = <span class="keyword">true</span>;
<a name="l00188"></a>00188         CheckMenuItem(<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#f7ba407561ee8d91f01c39ef42350905">m_hMenu</a>, <a class="code" href="resource_8h.html#85d0bd05e1e87709a886fa1024e474e5">ID_DATAORDER_REGENERATE</a>, MF_CHECKED);
<a name="l00189"></a>00189         <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#302f340043913af198c8c2498e81242b">AddMsg</a>(<a class="code" href="clog_8h.html#7109d46097bed1f60727a567312e9c4f499fbc8aa7dd517df9e2bf9d49cf68e8">lmSuccess</a>, <span class="stringliteral">"App's menu fixed!"</span>);
<a name="l00190"></a>00190 
<a name="l00191"></a>00191         <a class="code" href="main_8cpp.html#11f604c037b7f5d41ea2d07adb986faa">InitGL</a>();
<a name="l00192"></a>00192 
<a name="l00193"></a>00193         <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#302f340043913af198c8c2498e81242b">AddMsg</a>(<a class="code" href="clog_8h.html#7109d46097bed1f60727a567312e9c4f499fbc8aa7dd517df9e2bf9d49cf68e8">lmSuccess</a>, <span class="stringliteral">"App initialised!"</span>);
<a name="l00194"></a>00194 }
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00197"></a>00197 <span class="comment">|                                   InitGL                                     |</span>
<a name="l00198"></a>00198 <span class="comment">+------------------------------------------------------------------------------+</span>
<a name="l00199"></a>00199 <span class="comment">| Description:                                                                                                                             |</span>
<a name="l00200"></a>00200 <span class="comment">|    Does initialization of the OpenGL                                         | </span>
<a name="l00201"></a>00201 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00202"></a><a class="code" href="main_8cpp.html#11f604c037b7f5d41ea2d07adb986faa">00202</a> <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#11f604c037b7f5d41ea2d07adb986faa">InitGL</a>() {
<a name="l00203"></a>00203         glEnable(GL_DEPTH_TEST);
<a name="l00204"></a>00204         glDepthFunc(GL_LEQUAL); 
<a name="l00205"></a>00205 
<a name="l00206"></a>00206         glEnable(GL_CULL_FACE);
<a name="l00207"></a>00207         
<a name="l00208"></a>00208         glClearColor(1.0f, 1.0f, 1.0f, 0.0f);
<a name="l00209"></a>00209 
<a name="l00210"></a>00210         glShadeModel(GL_SMOOTH);
<a name="l00211"></a>00211 
<a name="l00212"></a>00212         <span class="keywordflow">if</span> (<a class="code" href="classCGLFont.html#ee5b27b2b1c3701bf7f20a8397a6d48e">CGLFont::Create2dCourierFont</a>(&amp;<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>, <a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>, 16, 8)) <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#302f340043913af198c8c2498e81242b">AddMsg</a>(<a class="code" href="clog_8h.html#7109d46097bed1f60727a567312e9c4f499fbc8aa7dd517df9e2bf9d49cf68e8">lmSuccess</a>, <span class="stringliteral">"Courier Font Created!"</span>);
<a name="l00213"></a>00213         <span class="keywordflow">else</span> <span class="keywordflow">throw</span> exception(<span class="stringliteral">"Faild to create the courier font!"</span>);
<a name="l00214"></a>00214 
<a name="l00215"></a>00215         <span class="comment">// camera:</span>
<a name="l00216"></a>00216         <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#7879328f9ad27172eb386538de70c924">InitView</a>(1.0f, 1000.0f, 90.0f, 1.33f);
<a name="l00217"></a>00217         <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#4ff3e8e2230ed87783da634e17f17c16">m_fRad</a> = 4.0f;
<a name="l00218"></a>00218         <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#fa9d728df01ac583e965f791ba30a2be">m_fYaw</a> = <a class="code" href="tg__math_8h.html#e71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;
<a name="l00219"></a>00219         <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#f1b892cbc3740b4349b213eab5c0bff6">m_fPitch</a> = <a class="code" href="tg__math_8h.html#c99d9a3096603ea0293d0e7178261e3c">DegToRad</a>(30.0f);
<a name="l00220"></a>00220 
<a name="l00221"></a>00221     <span class="comment">// set lighting:</span>
<a name="l00222"></a>00222         glEnable(GL_LIGHT0);
<a name="l00223"></a>00223         <a class="code" href="main_8cpp.html#070297b8bded494d5b27f0bf6b5e9d83">g_Light</a>.<a class="code" href="classCGLLight.html#4183178f8883a5a228dff47af4492854">SetAmbientColor</a>(0.2f, 0.2f, 0.2f);
<a name="l00224"></a>00224         <a class="code" href="main_8cpp.html#070297b8bded494d5b27f0bf6b5e9d83">g_Light</a>.<a class="code" href="classCGLLight.html#79d2516d7243a46912a8a1cedf8da838">SetDiffuseColor</a>(0.9f, 0.9f, 0.9f);
<a name="l00225"></a>00225         <a class="code" href="main_8cpp.html#070297b8bded494d5b27f0bf6b5e9d83">g_Light</a>.<a class="code" href="classCGLLight.html#b3c7802a51057379116476370cfe9f1d">SetSpecularColor</a>(1.0f, 1.0f, 1.0f);
<a name="l00226"></a>00226         <a class="code" href="main_8cpp.html#070297b8bded494d5b27f0bf6b5e9d83">g_Light</a>.<a class="code" href="classCGLLight.html#06cd1f6bf69b4d2764cfb8a0aa5ea213">SetPos</a>(0.0f, 0.0f, 10.0f);
<a name="l00227"></a>00227 
<a name="l00228"></a>00228         glEnable(GL_COLOR_MATERIAL);
<a name="l00229"></a>00229 
<a name="l00230"></a>00230         <a class="code" href="main_8cpp.html#eb676f5a59a2d370c0dc2d253cbcbb16">ResizeGLScene</a>(g_glApp.m_iWidth, g_glApp.m_iHeight);
<a name="l00231"></a>00231 
<a name="l00232"></a>00232         <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#302f340043913af198c8c2498e81242b">AddMsg</a>(<a class="code" href="clog_8h.html#7109d46097bed1f60727a567312e9c4f499fbc8aa7dd517df9e2bf9d49cf68e8">lmSuccess</a>, <span class="stringliteral">"OpenGL initialised!"</span>);
<a name="l00233"></a>00233 }
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00236"></a>00236 <span class="comment">|                                  CleanUp                                     |</span>
<a name="l00237"></a>00237 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00238"></a><a class="code" href="main_8cpp.html#bfc30f91ab75c6f4552003f777672e74">00238</a> <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#bfc30f91ab75c6f4552003f777672e74">CleanUp</a>() {
<a name="l00239"></a>00239         <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#302f340043913af198c8c2498e81242b">AddMsg</a>(<a class="code" href="clog_8h.html#7109d46097bed1f60727a567312e9c4f16221fa52a3b147b7f5b5e4c3e918cec">lmNormal</a>, <span class="stringliteral">"Closing the application..."</span>);
<a name="l00240"></a>00240 
<a name="l00241"></a>00241         glDeleteTextures(1, &amp;<a class="code" href="main_8cpp.html#5d3bc4c188c7b437d174ec3964e0c1ae">g_iTexFloor</a>);
<a name="l00242"></a>00242         glDeleteTextures(1, &amp;<a class="code" href="main_8cpp.html#888afb439dd9e6a43f078a4fabaae502">g_iTexFrame</a>);
<a name="l00243"></a>00243         <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#302f340043913af198c8c2498e81242b">AddMsg</a>(<a class="code" href="clog_8h.html#7109d46097bed1f60727a567312e9c4f16221fa52a3b147b7f5b5e4c3e918cec">lmNormal</a>, <span class="stringliteral">"Textures were deleted..."</span>);
<a name="l00244"></a>00244 
<a name="l00245"></a>00245         <span class="keyword">delete</span> <a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#b03b7bb701df8cc567ba4aa704c5bf05">ABUBBLE_SORT</a>];
<a name="l00246"></a>00246         <span class="keyword">delete</span> <a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#bf5f84179761bb68c8cf82a868a8f851">ASHAKER_SORT</a>];
<a name="l00247"></a>00247         <span class="keyword">delete</span> <a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#881bc566110402027f608e8e4bccd48a">ASELECTION_SORT</a>];
<a name="l00248"></a>00248         <span class="keyword">delete</span> <a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#476a6daba039f4c1fab38f670acb39b0">AINSERTION_SORT</a>];
<a name="l00249"></a>00249         <span class="keyword">delete</span> <a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#940b5e7090219a4d69c48e0ddfaaf4ab">ASHELL_SORT</a>];
<a name="l00250"></a>00250 
<a name="l00251"></a>00251         <span class="keyword">delete</span> <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>;
<a name="l00252"></a>00252         <span class="keyword">delete</span> <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>;
<a name="l00253"></a>00253 
<a name="l00254"></a>00254         <a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>.<a class="code" href="classCGLFont.html#69a49ffc37c5f2b8b6f63a81ada1213c">Delete</a>();
<a name="l00255"></a>00255         <a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#bac887ad8d3da539d13ee2a3888ad01c">Destroy</a>();
<a name="l00256"></a>00256 
<a name="l00257"></a>00257         <a class="code" href="clog_8h.html#46b0e5fa28bff9e87b3a9ffb16ad4cbb">g_Log</a>.<a class="code" href="classCLog.html#302f340043913af198c8c2498e81242b">AddMsg</a>(<a class="code" href="clog_8h.html#7109d46097bed1f60727a567312e9c4f499fbc8aa7dd517df9e2bf9d49cf68e8">lmSuccess</a>, <span class="stringliteral">"Application was closed properly"</span>);
<a name="l00258"></a>00258 }
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00261"></a>00261 <span class="comment">|                               ResizeGLScene                                  |</span>
<a name="l00262"></a>00262 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00263"></a><a class="code" href="main_8cpp.html#eb676f5a59a2d370c0dc2d253cbcbb16">00263</a> <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#eb676f5a59a2d370c0dc2d253cbcbb16">ResizeGLScene</a>(<span class="keywordtype">int</span> iWidth, <span class="keywordtype">int</span> iHeight, <span class="keywordtype">bool</span> bView) {
<a name="l00264"></a>00264         glViewport(0, 0, iWidth, iHeight);
<a name="l00265"></a>00265         glMatrixMode(GL_PROJECTION);
<a name="l00266"></a>00266         glLoadIdentity();
<a name="l00267"></a>00267 
<a name="l00268"></a>00268         gluPerspective(90.0, (<span class="keywordtype">float</span>)iWidth/(<span class="keywordtype">float</span>)iHeight, 0.1, 1000.0);
<a name="l00269"></a>00269         <span class="comment">//g_Camera.SetProjectionMatrix();</span>
<a name="l00270"></a>00270 
<a name="l00271"></a>00271         glMatrixMode(GL_MODELVIEW);
<a name="l00272"></a>00272         glLoadIdentity();
<a name="l00273"></a>00273 }
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00276"></a>00276 <span class="comment">|                                RenderScene                                   |</span>
<a name="l00277"></a>00277 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00278"></a><a class="code" href="main_8cpp.html#2fe48e89660e455d6353c1f28bc3d161">00278</a> <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#2fe48e89660e455d6353c1f28bc3d161">RenderScene</a>() {
<a name="l00279"></a>00279         glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT | GL_STENCIL_BUFFER_BIT); 
<a name="l00280"></a>00280         
<a name="l00281"></a>00281         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#4a51458aac5fd8fdde1a026c3990f4b1">g_bLight</a>) glEnable(GL_LIGHTING);
<a name="l00282"></a>00282         <span class="keywordflow">else</span> glDisable(GL_LIGHTING);
<a name="l00283"></a>00283 
<a name="l00284"></a>00284         <span class="comment">// set camera:</span>
<a name="l00285"></a>00285         glLoadIdentity();
<a name="l00286"></a>00286         <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#c813adaf0f85d0e467884e6e21c4e82d">BuildMatrix</a>(<a class="code" href="gl__camera_8h.html#c6e73fe6ce68e10b0acd6d2312bdbb3579856e1e31db4cca6ee87fcd57d1f76e">cmSpherical</a>);
<a name="l00287"></a>00287         <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#9920afddb785e6b6223ccc1870abfff0">SetViewMatrix</a>();
<a name="l00288"></a>00288 
<a name="l00289"></a>00289         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#eb04b0a6c94e8540882c182395e70efb">g_bReflection</a>) {
<a name="l00290"></a>00290                 <span class="keywordtype">double</span> eqr[] = { 0.0f, -1.0f, 0.0f, 0.0f };             <span class="comment">// plane equation</span>
<a name="l00291"></a>00291 
<a name="l00292"></a>00292                 glColorMask(0, 0, 0, 0);
<a name="l00293"></a>00293 
<a name="l00294"></a>00294                 glEnable(GL_STENCIL_TEST);                                              <span class="comment">// Enable Stencil Buffer For "marking" The Floor</span>
<a name="l00295"></a>00295                 glStencilFunc(GL_ALWAYS, 1, 1);                                 <span class="comment">// Always Passes, 1 Bit Plane, 1 As Mask</span>
<a name="l00296"></a>00296                 glStencilOp(GL_KEEP, GL_KEEP, GL_REPLACE);              <span class="comment">// We Set The Stencil Buffer To 1 Where We Draw Any Polygon</span>
<a name="l00297"></a>00297                                                                                                             <span class="comment">// Keep If Test Fails, Keep If Test Passes But Buffer Test Fails</span>
<a name="l00298"></a>00298                                                                                                             <span class="comment">// Replace If Test Passes</span>
<a name="l00299"></a>00299                 glDisable(GL_DEPTH_TEST);                                               <span class="comment">// Disable Depth Testing</span>
<a name="l00300"></a>00300                 <a class="code" href="main_8cpp.html#d14d9ff9618cb92d47a151f959e7eea7">DrawFloor</a>();
<a name="l00301"></a>00301 
<a name="l00302"></a>00302                 glEnable(GL_DEPTH_TEST);                                                <span class="comment">// Enable Depth Testing</span>
<a name="l00303"></a>00303                 glColorMask(1, 1, 1, 1);                                                <span class="comment">// Set Color Mask to TRUE, TRUE, TRUE, TRUE</span>
<a name="l00304"></a>00304                 glStencilFunc(GL_EQUAL, 1, 1);                                  <span class="comment">// We Draw Only Where The Stencil Is 1</span>
<a name="l00305"></a>00305                                                                                                             <span class="comment">// (I.E. Where The Floor Was Drawn)</span>
<a name="l00306"></a>00306                 glStencilOp(GL_KEEP, GL_KEEP, GL_KEEP);
<a name="l00307"></a>00307 
<a name="l00308"></a>00308                 glEnable(GL_CLIP_PLANE0);                                               <span class="comment">// Enable Clip Plane For Removing Artifacts</span>
<a name="l00309"></a>00309                                                                                                             <span class="comment">// (When The Object Crosses The Floor)</span>
<a name="l00310"></a>00310                 glClipPlane(GL_CLIP_PLANE0, eqr);
<a name="l00311"></a>00311                 glPushMatrix();
<a name="l00312"></a>00312                         glScalef(1.0f, -1.0f, 1.0f);
<a name="l00313"></a>00313                         <span class="comment">//glLightfv(GL_LIGHT0, GL_POSITION, light_pos);         </span>
<a name="l00314"></a>00314                         glFrontFace(GL_CW);
<a name="l00315"></a>00315                         glTranslatef(0.0f, 0.3f, 0.0);
<a name="l00316"></a>00316                         <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#780eea1ffb8be2376de4201f497dd8cb">Render</a>(<a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>);
<a name="l00317"></a>00317                         glFrontFace(GL_CCW);
<a name="l00318"></a>00318                 glPopMatrix();
<a name="l00319"></a>00319                 glDisable(GL_CLIP_PLANE0);                                              <span class="comment">// Disable Clip Plane For Drawing The Floor</span>
<a name="l00320"></a>00320                 glDisable(GL_STENCIL_TEST);     
<a name="l00321"></a>00321 
<a name="l00322"></a>00322                 glEnable(GL_BLEND);
<a name="l00323"></a>00323                 glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
<a name="l00324"></a>00324                 glColor4f(0.6f, 0.7f, 1.0f, 0.5f);
<a name="l00325"></a>00325                 <a class="code" href="main_8cpp.html#d14d9ff9618cb92d47a151f959e7eea7">DrawFloor</a>();
<a name="l00326"></a>00326                 glDisable(GL_BLEND);
<a name="l00327"></a>00327         }
<a name="l00328"></a>00328         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#4b226e7bb05a9c1fa93110f6e57eef7e">g_bFloor</a>) {
<a name="l00329"></a>00329                 glColor4f(0.6f, 0.7f, 1.0f, 0.5f);
<a name="l00330"></a>00330                 <a class="code" href="main_8cpp.html#d14d9ff9618cb92d47a151f959e7eea7">DrawFloor</a>();
<a name="l00331"></a>00331         }
<a name="l00332"></a>00332 
<a name="l00333"></a>00333         <span class="comment">// "Draw" algorithm...</span>
<a name="l00334"></a>00334         glPushMatrix();
<a name="l00335"></a>00335                 glColor3f(1.0f, 1.0f, 1.0f);
<a name="l00336"></a>00336                 glTranslatef(0.0f, 0.3f, 0.0);
<a name="l00337"></a>00337             <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#780eea1ffb8be2376de4201f497dd8cb">Render</a>(<a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>);
<a name="l00338"></a>00338         glPopMatrix();
<a name="l00339"></a>00339 
<a name="l00340"></a>00340         <span class="comment">// draw text: </span>
<a name="l00341"></a>00341         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#3d1dbc6e154b6dd00bbe658019b476a9">g_bInfo</a>) {
<a name="l00342"></a>00342                 <a class="code" href="gl__text_8cpp.html#fa32eaa1050ed1a59706bebe73f24086">glBeginText</a>(<a class="code" href="classCGLApp.html#124d7f98345d17e310cafc53482e8fa5">CGLApp::m_iWidth</a>, <a class="code" href="classCGLApp.html#f9c571f573451e19e0149cd5efc16e07">CGLApp::m_iHeight</a>);
<a name="l00343"></a>00343                 glColor3f(0.0f, 0.0f, 0.0f);
<a name="l00344"></a>00344                     <a class="code" href="gl__text_8cpp.html#2f78399245f9788493c3ba3cc1b20eab">glTextPrintf</a>(&amp;<a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>, 10.0f, 20.0f, <span class="stringliteral">"Fps: %2.3f"</span>, <a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#b148fee5342e68a1097fc8507975003f">GetFps</a>());
<a name="l00345"></a>00345                         <span class="keywordflow">if</span> (<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#2a4a66927d95efceb7c452ec2a0195fc">IsFreezed</a>()) <a class="code" href="gl__text_8cpp.html#a64b5775e79e450cdcff6814f3d6ea4d">glTextout</a>(&amp;<a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>, <span class="stringliteral">"Algorithm paused"</span>, 500.0f, 20.0f);
<a name="l00346"></a>00346                         <span class="keywordflow">else</span> <a class="code" href="gl__text_8cpp.html#2f78399245f9788493c3ba3cc1b20eab">glTextPrintf</a>(&amp;<a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>, 500.0f, 20.0f, <span class="stringliteral">"Update tempo: %3.1f"</span>, <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#e9a29de0daefb0d934742d67fd0cbc58">GetTempo</a>()/100.0);
<a name="l00347"></a>00347                     <a class="code" href="gl__text_8cpp.html#2f78399245f9788493c3ba3cc1b20eab">glTextPrintf</a>(&amp;<a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>, 10.0f, 34.0f, <span class="stringliteral">"Algorithm: %s"</span>, <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#4619679163221bf120144deb10f5c2c1">GetAlgorithmName</a>());
<a name="l00348"></a>00348                     <a class="code" href="gl__text_8cpp.html#2f78399245f9788493c3ba3cc1b20eab">glTextPrintf</a>(&amp;<a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>, 10.0f, 48.0f, <span class="stringliteral">"Num of Elements: %d"</span>, <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#7e1d9b7d6eafbc8bf3312d0c2aa61cbe">GetNumOfElements</a>());
<a name="l00349"></a>00349                         <a class="code" href="gl__text_8cpp.html#2f78399245f9788493c3ba3cc1b20eab">glTextPrintf</a>(&amp;<a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>, 10.0f, 62.0f, <span class="stringliteral">"Elements order: %s"</span>, <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#4221d6000c70b46878f763d0e7050b9f">GetDataOrderName</a>());
<a name="l00350"></a>00350                     <a class="code" href="gl__text_8cpp.html#2f78399245f9788493c3ba3cc1b20eab">glTextPrintf</a>(&amp;<a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>, 10.0f, 76.0f, <span class="stringliteral">"Comparisions: %d"</span>, <a class="code" href="classCAlgorithm.html#3828ab5cf73aa0d48c8128d5ca449893">CAlgorithm::GetNumOfComparisions</a>());
<a name="l00351"></a>00351                     <a class="code" href="gl__text_8cpp.html#2f78399245f9788493c3ba3cc1b20eab">glTextPrintf</a>(&amp;<a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>, 10.0f, 90.0f, <span class="stringliteral">"Exchanges: %d"</span>, <a class="code" href="classCAlgorithm.html#4982571b2a3382db2f940174c4001803">CAlgorithm::GetNumOfExchanges</a>());
<a name="l00352"></a>00352                         <a class="code" href="gl__text_8cpp.html#2f78399245f9788493c3ba3cc1b20eab">glTextPrintf</a>(&amp;<a class="code" href="main_8cpp.html#7a182d4529e3fa73570ca68dd1ef5e0f">g_Font</a>, 10.0f, 104.0f, <span class="stringliteral">"Iterations: %d"</span>, <a class="code" href="classCAlgorithm.html#d3792f0420e3b41d6f674444c843e8ea">CAlgorithm::GetNumOfIterations</a>());
<a name="l00353"></a>00353             <a class="code" href="gl__text_8cpp.html#09b36acbb9f4d5f7ef3d753eb2135f95">glEndText</a>();
<a name="l00354"></a>00354         }
<a name="l00355"></a>00355 }
<a name="l00356"></a>00356 
<a name="l00357"></a>00357 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00358"></a>00358 <span class="comment">|                                   DrawFloor                                  |</span>
<a name="l00359"></a>00359 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00360"></a><a class="code" href="main_8cpp.html#d14d9ff9618cb92d47a151f959e7eea7">00360</a> <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#d14d9ff9618cb92d47a151f959e7eea7">DrawFloor</a>()
<a name="l00361"></a>00361 {
<a name="l00362"></a>00362         <span class="keywordtype">float</span> x, z;
<a name="l00363"></a>00363 
<a name="l00364"></a>00364         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#ed15dddfb8f346cbb42523e9eab02ccc">g_bTextured</a>) glEnable(GL_TEXTURE_2D);
<a name="l00365"></a>00365         glBindTexture(GL_TEXTURE_2D, <a class="code" href="main_8cpp.html#5d3bc4c188c7b437d174ec3964e0c1ae">g_iTexFloor</a>);
<a name="l00366"></a>00366         glBegin(GL_QUADS);
<a name="l00367"></a>00367         <span class="keywordflow">for</span> (x = -4.0f; x &lt; 4.0f; x+=1.0f)
<a name="l00368"></a>00368                 <span class="keywordflow">for</span> (z = -4.0f; z &lt; 4.0f; z+=1.0f)
<a name="l00369"></a>00369                 {
<a name="l00370"></a>00370                                 glNormal3f(0.0f, 1.0f, 0.0f);
<a name="l00371"></a>00371                                 glTexCoord2f(0.0f, 0.0f);
<a name="l00372"></a>00372                                 glVertex3f(x, 0.0f, z);
<a name="l00373"></a>00373                                 glTexCoord2f(0.0f, 1.0f);
<a name="l00374"></a>00374                                 glVertex3f(x, 0.0f, z+0.9f);
<a name="l00375"></a>00375                                 glTexCoord2f(1.0f, 1.0f);
<a name="l00376"></a>00376                                 glVertex3f(x+0.9f, 0.0f, z+0.9f);
<a name="l00377"></a>00377                                 glTexCoord2f(1.0f, 0.0f);
<a name="l00378"></a>00378                                 glVertex3f(x+0.9f, 0.0f, z);
<a name="l00379"></a>00379                 }
<a name="l00380"></a>00380         glEnd();
<a name="l00381"></a>00381         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#ed15dddfb8f346cbb42523e9eab02ccc">g_bTextured</a>) glDisable(GL_TEXTURE_2D);
<a name="l00382"></a>00382 }
<a name="l00383"></a>00383 
<a name="l00384"></a>00384 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00385"></a>00385 <span class="comment">|                              UpdateAnimation                                 |</span>
<a name="l00386"></a>00386 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00387"></a><a class="code" href="main_8cpp.html#5b44fcf8665217a0dfdfde3c32b53d5d">00387</a> <span class="keywordtype">void</span> <a class="code" href="main_8cpp.html#5b44fcf8665217a0dfdfde3c32b53d5d">UpdateAnimation</a>() {
<a name="l00388"></a>00388         <a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#d0bd5b01b4a6acfacb5a492ecffbad94">Update</a>();
<a name="l00389"></a>00389 
<a name="l00390"></a>00390         <span class="keywordflow">if</span> (<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#2a4a66927d95efceb7c452ec2a0195fc">IsFreezed</a>()) <span class="keywordflow">return</span>;
<a name="l00391"></a>00391 
<a name="l00392"></a>00392         <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#5decc20791ba172ffc9b4ae5349d61fa">Update</a>();
<a name="l00393"></a>00393 }
<a name="l00394"></a>00394 
<a name="l00395"></a>00395 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00396"></a>00396 <span class="comment">|                               ProcessKeyboard                                |</span>
<a name="l00397"></a>00397 <span class="comment">+------------------------------------------------------------------------------+</span>
<a name="l00398"></a>00398 <span class="comment">| Returns "false" if user presses ESC key                                      |</span>
<a name="l00399"></a>00399 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00400"></a><a class="code" href="main_8cpp.html#e63daae0623a379d18de0b216f6a08c6">00400</a> <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#e63daae0623a379d18de0b216f6a08c6">ProcessKeyboard</a>() {
<a name="l00401"></a>00401         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(VK_ESCAPE)) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00402"></a>00402         
<a name="l00403"></a>00403         <span class="comment">// restore defaults:</span>
<a name="l00404"></a>00404         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(VK_RETURN)) {
<a name="l00405"></a>00405                 <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#f1b892cbc3740b4349b213eab5c0bff6">m_fPitch</a> = <a class="code" href="tg__math_8h.html#c99d9a3096603ea0293d0e7178261e3c">DegToRad</a>(30.0f);
<a name="l00406"></a>00406                 <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#4ff3e8e2230ed87783da634e17f17c16">m_fRad</a> = 4.0f;
<a name="l00407"></a>00407                 <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#fa9d728df01ac583e965f791ba30a2be">m_fYaw</a> = <a class="code" href="tg__math_8h.html#e71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;
<a name="l00408"></a>00408                 <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#dd432182777cb818acbd1adb9d43294e">m_fRoll</a> = 0.0f;
<a name="l00409"></a>00409                 <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#aa1d4abbc0c488c620fbbbaeb291abce">SetNewFov</a>(45.0f);
<a name="l00410"></a>00410         }
<a name="l00411"></a>00411 
<a name="l00412"></a>00412         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(VK_SPACE)) {
<a name="l00413"></a>00413                 <span class="keywordflow">if</span> (<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#2a4a66927d95efceb7c452ec2a0195fc">IsFreezed</a>()) <a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#eaf02938e288a82255820fe2d7664253">Unfreeze</a>();
<a name="l00414"></a>00414                 <span class="keywordflow">else</span> <a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#bde128824d7c8c74d19789f3016a01d8">Freeze</a>();
<a name="l00415"></a>00415                 <a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#89dfb28bb529e6ab7e842169be7cac61">SetKey</a>(VK_SPACE, <span class="keyword">false</span>);
<a name="l00416"></a>00416         }
<a name="l00417"></a>00417 
<a name="l00418"></a>00418         <span class="comment">// virtual camera:</span>
<a name="l00419"></a>00419         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(VK_LEFT)) <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#fa9d728df01ac583e965f791ba30a2be">m_fYaw</a> += <a class="code" href="tg__math_8h.html#c99d9a3096603ea0293d0e7178261e3c">DegToRad</a>(45.0f*(<span class="keywordtype">float</span>)<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#52d9246632e515759fd6039e0f8d0956">GetDelta</a>());
<a name="l00420"></a>00420         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(VK_RIGHT)) <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#fa9d728df01ac583e965f791ba30a2be">m_fYaw</a> -= <a class="code" href="tg__math_8h.html#c99d9a3096603ea0293d0e7178261e3c">DegToRad</a>(45.0f*(<span class="keywordtype">float</span>)<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#52d9246632e515759fd6039e0f8d0956">GetDelta</a>());
<a name="l00421"></a>00421         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(VK_UP)) {
<a name="l00422"></a>00422                 <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#f1b892cbc3740b4349b213eab5c0bff6">m_fPitch</a> &lt; <a class="code" href="tg__math_8h.html#e71449b1cc6e6250b91f539153a7a0d3">M_PI</a>*0.45f) 
<a name="l00423"></a>00423                         <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#f1b892cbc3740b4349b213eab5c0bff6">m_fPitch</a> += <a class="code" href="tg__math_8h.html#c99d9a3096603ea0293d0e7178261e3c">DegToRad</a>(45.0f*(<span class="keywordtype">float</span>)<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#52d9246632e515759fd6039e0f8d0956">GetDelta</a>());
<a name="l00424"></a>00424         }
<a name="l00425"></a>00425         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(VK_DOWN)) {
<a name="l00426"></a>00426                 <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#f1b892cbc3740b4349b213eab5c0bff6">m_fPitch</a> &gt; 0.1f) 
<a name="l00427"></a>00427                         <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#f1b892cbc3740b4349b213eab5c0bff6">m_fPitch</a> -= <a class="code" href="tg__math_8h.html#c99d9a3096603ea0293d0e7178261e3c">DegToRad</a>(45.0f*(<span class="keywordtype">float</span>)<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#52d9246632e515759fd6039e0f8d0956">GetDelta</a>());
<a name="l00428"></a>00428         }
<a name="l00429"></a>00429         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(<span class="charliteral">'Z'</span>)) {
<a name="l00430"></a>00430                 <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#4ff3e8e2230ed87783da634e17f17c16">m_fRad</a> &lt; 10.0f) 
<a name="l00431"></a>00431                         <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#4ff3e8e2230ed87783da634e17f17c16">m_fRad</a> += 2.0f*(float)<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#52d9246632e515759fd6039e0f8d0956">GetDelta</a>();
<a name="l00432"></a>00432         }
<a name="l00433"></a>00433         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(<span class="charliteral">'X'</span>)) {
<a name="l00434"></a>00434                 <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#4ff3e8e2230ed87783da634e17f17c16">m_fRad</a> &gt; 2.0f) 
<a name="l00435"></a>00435                         <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#4ff3e8e2230ed87783da634e17f17c16">m_fRad</a> -= 2.0f*(float)<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#52d9246632e515759fd6039e0f8d0956">GetDelta</a>();
<a name="l00436"></a>00436         }
<a name="l00437"></a>00437 
<a name="l00438"></a>00438         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(<span class="charliteral">'Q'</span>)) <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#aa1d4abbc0c488c620fbbbaeb291abce">SetNewFov</a>(<a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#74cfb89ade5691888f414e97d1c4a1c0">GetFov</a>() + 5.0f*(float)<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#52d9246632e515759fd6039e0f8d0956">GetDelta</a>());
<a name="l00439"></a>00439         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#5375f86c105480657c993b6e2b315d32">g_glApp</a>.<a class="code" href="classCGLApp.html#0e6149ea3576385d93a95763d2a95b56">KeyDown</a>(<span class="charliteral">'E'</span>)) <a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#aa1d4abbc0c488c620fbbbaeb291abce">SetNewFov</a>(<a class="code" href="main_8cpp.html#dabe8034d31c5fc36bbaaa9c9f7ff8af">g_Camera</a>.<a class="code" href="classCCamera.html#74cfb89ade5691888f414e97d1c4a1c0">GetFov</a>() + 5.0f*(float)<a class="code" href="ctimer_8h.html#388219c65df20c9529b9a5c5a4eccf82">g_Timer</a>.<a class="code" href="classCTimer.html#52d9246632e515759fd6039e0f8d0956">GetDelta</a>());
<a name="l00440"></a>00440 
<a name="l00441"></a>00441         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00442"></a>00442 }
<a name="l00443"></a>00443 
<a name="l00444"></a>00444 <span class="comment">/*-----------------------------------------------------------------------------+</span>
<a name="l00445"></a>00445 <span class="comment">|                                OnMenuCommand                                 |</span>
<a name="l00446"></a>00446 <span class="comment">+------------------------------------------------------------------------------+</span>
<a name="l00447"></a>00447 <span class="comment">| Returns "false" if user wants to exit                                        |</span>
<a name="l00448"></a>00448 <span class="comment">+-----------------------------------------------------------------------------*/</span>
<a name="l00449"></a><a class="code" href="main_8cpp.html#577eddbf0174bfcbf873324eea6de777">00449</a> <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#577eddbf0174bfcbf873324eea6de777">OnMenuCommand</a>(WORD iId, HMENU hMenu) {
<a name="l00450"></a>00450         <span class="keywordflow">switch</span> ( iId ) {
<a name="l00451"></a>00451                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#3a6cb842433474b721f52d5f3d23ebd4">ID_FILE_EXIT</a>: <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00452"></a>00452                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#0cd3cc309c7c5e1e0f788f6bf69cd347">ID_DIAGRAMTYPE_POINTS</a>:    { <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#756069b692ee16b1299436b83b780564">SetBlockType</a>(<a class="code" href="av__system_8h.html#54420623f26ab6bb61042b41cccf37a3bcbd64ffd3df3cc71c35891e9f691a32">btPoint</a>); <span class="keywordflow">break</span>; }
<a name="l00453"></a>00453                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#a46b8ef025231228efb1baad81322f05">ID_DIAGRAMTYPE_BOXES</a>:     { <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#756069b692ee16b1299436b83b780564">SetBlockType</a>(<a class="code" href="av__system_8h.html#54420623f26ab6bb61042b41cccf37a3e1d55c9f768819667600d345d023db00">btBox</a>); <span class="keywordflow">break</span>; }
<a name="l00454"></a>00454             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#d99d6df8a56ce87fe3c3e3e298a98cc3">ID_DIAGRAMTYPE_PYRAMIDS</a>:  { <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#756069b692ee16b1299436b83b780564">SetBlockType</a>(<a class="code" href="av__system_8h.html#54420623f26ab6bb61042b41cccf37a36a663e4c6fe68a8a2f98a6240a0c08e3">btPyramid</a>); <span class="keywordflow">break</span>; }
<a name="l00455"></a>00455             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#a99272a7a7d57a7c01a8c63763fdae29">ID_DIAGRAMTYPE_CYLINDERS</a>: { <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#756069b692ee16b1299436b83b780564">SetBlockType</a>(<a class="code" href="av__system_8h.html#54420623f26ab6bb61042b41cccf37a3c3ffd7b9e08c26586fbcf72be9fc44b9">btCylinder</a>); <span class="keywordflow">break</span>; }
<a name="l00456"></a>00456                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#3d431206b87bc7d5ce9874a87dd69450">ID_ALGORITHM_RUNAGAIN</a>:    { 
<a name="l00457"></a>00457                             <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a>) <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#09da9dddabb275864085a6ed2c956ae7">RegenerateData</a>(); 
<a name="l00458"></a>00458                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>(); 
<a name="l00459"></a>00459                                 <span class="keywordflow">break</span>; 
<a name="l00460"></a>00460                         }
<a name="l00461"></a>00461                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#ffd210a9ae1bf960889db64c979193ed">ID_METHOD_BUBBLESORT</a>: {
<a name="l00462"></a>00462                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#fc07b655f9f4f582c26264daea65ca6f">SetAlgorithm</a>(<a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#b03b7bb701df8cc567ba4aa704c5bf05">ABUBBLE_SORT</a>]);
<a name="l00463"></a>00463                                 <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a>) <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#09da9dddabb275864085a6ed2c956ae7">RegenerateData</a>();
<a name="l00464"></a>00464                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>();
<a name="l00465"></a>00465                                 <span class="keywordflow">break</span>;
<a name="l00466"></a>00466                         }
<a name="l00467"></a>00467             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#99511e024af4535dc7bd730d48829f1c">ID_METHOD_SHAKERSORT</a>: {
<a name="l00468"></a>00468                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#fc07b655f9f4f582c26264daea65ca6f">SetAlgorithm</a>(<a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#bf5f84179761bb68c8cf82a868a8f851">ASHAKER_SORT</a>]);
<a name="l00469"></a>00469                                 <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a>) <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#09da9dddabb275864085a6ed2c956ae7">RegenerateData</a>();
<a name="l00470"></a>00470                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>();
<a name="l00471"></a>00471                                 <span class="keywordflow">break</span>;
<a name="l00472"></a>00472                         }
<a name="l00473"></a>00473             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#ed3a460c9a75f65bf1eb3d84e97c5d37">ID_METHOD_SELECTIONSORT</a>: {
<a name="l00474"></a>00474                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#fc07b655f9f4f582c26264daea65ca6f">SetAlgorithm</a>(<a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#881bc566110402027f608e8e4bccd48a">ASELECTION_SORT</a>]);
<a name="l00475"></a>00475                                 <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a>) <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#09da9dddabb275864085a6ed2c956ae7">RegenerateData</a>();
<a name="l00476"></a>00476                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>();
<a name="l00477"></a>00477                                 <span class="keywordflow">break</span>;
<a name="l00478"></a>00478                         }
<a name="l00479"></a>00479             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#bdd89d61140a37e5e6e2e9b800138719">ID_METHOD_INSERTIONSORT</a>: {
<a name="l00480"></a>00480                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#fc07b655f9f4f582c26264daea65ca6f">SetAlgorithm</a>(<a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#476a6daba039f4c1fab38f670acb39b0">AINSERTION_SORT</a>]);
<a name="l00481"></a>00481                                 <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a>) <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#09da9dddabb275864085a6ed2c956ae7">RegenerateData</a>();
<a name="l00482"></a>00482                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>();
<a name="l00483"></a>00483                                 <span class="keywordflow">break</span>;
<a name="l00484"></a>00484                         }
<a name="l00485"></a>00485                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#997fd1e256f9607fb7c938b52824c9ed">ID_METHOD_SHELLSORT</a>: {
<a name="l00486"></a>00486                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#fc07b655f9f4f582c26264daea65ca6f">SetAlgorithm</a>(<a class="code" href="main_8cpp.html#5254b6adebc89eaeb54da41b7f6cb3dd">g_Algorithms</a>[<a class="code" href="main_8cpp.html#940b5e7090219a4d69c48e0ddfaaf4ab">ASHELL_SORT</a>]);
<a name="l00487"></a>00487                                 <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a>) <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#09da9dddabb275864085a6ed2c956ae7">RegenerateData</a>();
<a name="l00488"></a>00488                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>();
<a name="l00489"></a>00489                                 <span class="keywordflow">break</span>;
<a name="l00490"></a>00490                         }
<a name="l00491"></a>00491                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#57d1ac04c443c854280805f2f3d5924b">ID_DATAORDER_SORTED</a>: { 
<a name="l00492"></a>00492                             <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#208bde6e8f27b0dfe846c1ee275dc837">GenerateData</a>(<a class="code" href="av__data_8h.html#16437c85ca4b66fa49b66d58361419778b27f45fdbbc6b3d1be05bee979b3e0a">doSorted</a>); 
<a name="l00493"></a>00493                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>(); 
<a name="l00494"></a>00494                                 <span class="keywordflow">break</span>; 
<a name="l00495"></a>00495                     }
<a name="l00496"></a>00496                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#ff8de4c9273c0e2e900c804c23b91032">ID_DATAORDER_REVERSED</a>: { 
<a name="l00497"></a>00497                             <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#208bde6e8f27b0dfe846c1ee275dc837">GenerateData</a>(<a class="code" href="av__data_8h.html#16437c85ca4b66fa49b66d58361419776b3b165afb74887146fc3ef0189adf3d">doReversed</a>); 
<a name="l00498"></a>00498                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>(); 
<a name="l00499"></a>00499                                 <span class="keywordflow">break</span>; 
<a name="l00500"></a>00500                         }
<a name="l00501"></a>00501             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#f8e3f911d8af255377b258174408c493">ID_DATAORDER_RANDOMIZED</a>: { 
<a name="l00502"></a>00502                             <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#208bde6e8f27b0dfe846c1ee275dc837">GenerateData</a>(<a class="code" href="av__data_8h.html#16437c85ca4b66fa49b66d583614197772a235484abb01b622a8f5cfc0b37a0c">doRandomized</a>); 
<a name="l00503"></a>00503                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>(); 
<a name="l00504"></a>00504                                 <span class="keywordflow">break</span>; 
<a name="l00505"></a>00505                         }
<a name="l00506"></a>00506             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#29447623a616ee75d1fea27465252749">ID_DATAORDER_SPECIALRANDOMIZED</a>: { 
<a name="l00507"></a>00507                             <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#208bde6e8f27b0dfe846c1ee275dc837">GenerateData</a>(<a class="code" href="av__data_8h.html#16437c85ca4b66fa49b66d583614197766f0669855781e952c99168c21dec2ba">doSpecialRandomized</a>); 
<a name="l00508"></a>00508                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>(); 
<a name="l00509"></a>00509                                 <span class="keywordflow">break</span>; 
<a name="l00510"></a>00510                         }
<a name="l00511"></a>00511         <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#85d0bd05e1e87709a886fa1024e474e5">ID_DATAORDER_REGENERATE</a>: {
<a name="l00512"></a>00512                             <a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a> = !<a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a>;
<a name="l00513"></a>00513                                 CheckMenuItem(hMenu, iId, (<a class="code" href="main_8cpp.html#29811d05db43b0535b281ba3385f73a2">g_bRegenerate</a> ? MF_CHECKED : MF_UNCHECKED));
<a name="l00514"></a>00514                                 <span class="keywordflow">break</span>;
<a name="l00515"></a>00515                         }
<a name="l00516"></a>00516                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#8a246eda8afdc93a818a6f93f5ffa078">ID_ELEMENTS_SETTO100</a>: {
<a name="l00517"></a>00517                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#472534106f921284eb0e7a2052682cd2">SetNumOfElements</a>(100);
<a name="l00518"></a>00518                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>();
<a name="l00519"></a>00519                                 <span class="keywordflow">break</span>;
<a name="l00520"></a>00520                         }
<a name="l00521"></a>00521                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#478ebaee64dde41f9b8d06924f1c728a">ID_ELEMENTS_SETTO20</a>: {
<a name="l00522"></a>00522                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#472534106f921284eb0e7a2052682cd2">SetNumOfElements</a>(20);
<a name="l00523"></a>00523                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>();
<a name="l00524"></a>00524                                 <span class="keywordflow">break</span>;
<a name="l00525"></a>00525                         }
<a name="l00526"></a>00526             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#da7c1329108a582c29f8b0ea0e108c5f">ID_ELEMENTS_SETTO200</a>: {
<a name="l00527"></a>00527                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#472534106f921284eb0e7a2052682cd2">SetNumOfElements</a>(200);
<a name="l00528"></a>00528                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>();
<a name="l00529"></a>00529                                 <span class="keywordflow">break</span>;
<a name="l00530"></a>00530                         }
<a name="l00531"></a>00531             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#8945f9880eec7212ffdd19d8c86c4b82">ID_ELEMENTS_INCREASE</a>: {
<a name="l00532"></a>00532                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#472534106f921284eb0e7a2052682cd2">SetNumOfElements</a>(<a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#7e1d9b7d6eafbc8bf3312d0c2aa61cbe">GetNumOfElements</a>()+<a class="code" href="main_8cpp.html#c78358d4f9c2a6c773c0ac4aa4e75cb0">iElementsDelta</a>);
<a name="l00533"></a>00533                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>();
<a name="l00534"></a>00534                                 <span class="keywordflow">break</span>;
<a name="l00535"></a>00535                         }
<a name="l00536"></a>00536             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#a1f07e4fe0f360c81713f283bb39b3f2">ID_ELEMENTS_DECREASE</a>: {
<a name="l00537"></a>00537                         <span class="keywordflow">if</span> (<a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#7e1d9b7d6eafbc8bf3312d0c2aa61cbe">GetNumOfElements</a>() &gt; <a class="code" href="main_8cpp.html#e34990b15009f0a69b07c3fa04f0c046">iElementsMin</a>)
<a name="l00538"></a>00538                                     <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#472534106f921284eb0e7a2052682cd2">SetNumOfElements</a>(<a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#7e1d9b7d6eafbc8bf3312d0c2aa61cbe">GetNumOfElements</a>()-<a class="code" href="main_8cpp.html#c78358d4f9c2a6c773c0ac4aa4e75cb0">iElementsDelta</a>);
<a name="l00539"></a>00539                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#b5bb8241106966f93a2def1b24cbbe41">RunAgain</a>();
<a name="l00540"></a>00540                                 <span class="keywordflow">break</span>;
<a name="l00541"></a>00541                         }
<a name="l00542"></a>00542                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#b0ac3e170489dc234566ef9028239489">ID_VIEW_LIGHT</a>: {
<a name="l00543"></a>00543                             <a class="code" href="main_8cpp.html#4a51458aac5fd8fdde1a026c3990f4b1">g_bLight</a> = !<a class="code" href="main_8cpp.html#4a51458aac5fd8fdde1a026c3990f4b1">g_bLight</a>;
<a name="l00544"></a>00544                                 CheckMenuItem(hMenu, iId, (<a class="code" href="main_8cpp.html#4a51458aac5fd8fdde1a026c3990f4b1">g_bLight</a> ? MF_CHECKED : MF_UNCHECKED));
<a name="l00545"></a>00545                                 <span class="keywordflow">break</span>;
<a name="l00546"></a>00546                         }
<a name="l00547"></a>00547                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#28a1875884d8f79c277af24a0e3d801a">ID_VIEW_TEXTURED</a>: {
<a name="l00548"></a>00548                             <a class="code" href="main_8cpp.html#ed15dddfb8f346cbb42523e9eab02ccc">g_bTextured</a> = !<a class="code" href="main_8cpp.html#ed15dddfb8f346cbb42523e9eab02ccc">g_bTextured</a>;
<a name="l00549"></a>00549                                 <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#0748385ced3ca1a69481020e3b7c0045">m_bTextured</a> = <a class="code" href="main_8cpp.html#ed15dddfb8f346cbb42523e9eab02ccc">g_bTextured</a>;
<a name="l00550"></a>00550                                 CheckMenuItem(hMenu, iId, (<a class="code" href="main_8cpp.html#ed15dddfb8f346cbb42523e9eab02ccc">g_bTextured</a> ? MF_CHECKED : MF_UNCHECKED));
<a name="l00551"></a>00551                                 <span class="keywordflow">break</span>;
<a name="l00552"></a>00552                         }
<a name="l00553"></a>00553             <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#95112e47bcf30a8eca4c4ee315dce251">ID_VIEW_REFLECTION</a>: {
<a name="l00554"></a>00554                             <a class="code" href="main_8cpp.html#eb04b0a6c94e8540882c182395e70efb">g_bReflection</a> = !<a class="code" href="main_8cpp.html#eb04b0a6c94e8540882c182395e70efb">g_bReflection</a>;
<a name="l00555"></a>00555                                 CheckMenuItem(hMenu, iId, (<a class="code" href="main_8cpp.html#eb04b0a6c94e8540882c182395e70efb">g_bReflection</a> ? MF_CHECKED : MF_UNCHECKED));
<a name="l00556"></a>00556                                 <span class="keywordflow">break</span>;
<a name="l00557"></a>00557                         }
<a name="l00558"></a>00558                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#650d921baf07e9a89e5bc026db41fcad">ID_VIEW_FLOOR</a>: {
<a name="l00559"></a>00559                             <a class="code" href="main_8cpp.html#4b226e7bb05a9c1fa93110f6e57eef7e">g_bFloor</a> = !<a class="code" href="main_8cpp.html#4b226e7bb05a9c1fa93110f6e57eef7e">g_bFloor</a>;
<a name="l00560"></a>00560                                 CheckMenuItem(hMenu, iId, (<a class="code" href="main_8cpp.html#4b226e7bb05a9c1fa93110f6e57eef7e">g_bFloor</a> ? MF_CHECKED : MF_UNCHECKED));
<a name="l00561"></a>00561                                 <span class="keywordflow">break</span>;
<a name="l00562"></a>00562                         }
<a name="l00563"></a>00563                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#a35f6f8cbbd2787f123a13e52f9cb18b">ID_VIEW_FRAME</a>: {
<a name="l00564"></a>00564                                 <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#3ddebf1df7223b136773b941d95736ca">m_bFrame</a> = !<a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#3ddebf1df7223b136773b941d95736ca">m_bFrame</a>;
<a name="l00565"></a>00565                                 CheckMenuItem(hMenu, iId, (<a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#3ddebf1df7223b136773b941d95736ca">m_bFrame</a> ? MF_CHECKED : MF_UNCHECKED));
<a name="l00566"></a>00566                                 <span class="keywordflow">break</span>;
<a name="l00567"></a>00567                         }
<a name="l00568"></a>00568                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#7018013bd57cdae04e2d4c7d1c168f14">ID_VIEW_HORIZ</a>: {
<a name="l00569"></a>00569                                 <a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#98c098872b6d537f6e740aa9dd638ab6">m_bHoriz</a> = !<a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#98c098872b6d537f6e740aa9dd638ab6">m_bHoriz</a>;
<a name="l00570"></a>00570                                 CheckMenuItem(hMenu, iId, (<a class="code" href="main_8cpp.html#4a02c205b94fd5b3954186456ffa154b">g_avSystem</a>-&gt;<a class="code" href="classCAVSystem.html#98c098872b6d537f6e740aa9dd638ab6">m_bHoriz</a> ? MF_CHECKED : MF_UNCHECKED));
<a name="l00571"></a>00571                                 <span class="keywordflow">break</span>;
<a name="l00572"></a>00572                         }
<a name="l00573"></a>00573                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#4d98b25e0f67a6f702d783d9df3508b1">ID_VIEW_INFO</a>: {
<a name="l00574"></a>00574                                 <a class="code" href="main_8cpp.html#3d1dbc6e154b6dd00bbe658019b476a9">g_bInfo</a> = !<a class="code" href="main_8cpp.html#3d1dbc6e154b6dd00bbe658019b476a9">g_bInfo</a>;
<a name="l00575"></a>00575                                 CheckMenuItem(hMenu, iId, (<a class="code" href="main_8cpp.html#3d1dbc6e154b6dd00bbe658019b476a9">g_bInfo</a>? MF_CHECKED : MF_UNCHECKED));
<a name="l00576"></a>00576                                 <span class="keywordflow">break</span>;
<a name="l00577"></a>00577                         }
<a name="l00578"></a>00578                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#144fdd868f31d5345afbf41b6cba5f3c">ID_FLOW_PAUSE</a>: {
<a name="l00579"></a>00579                                 <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#e3c00aeb3ea5bba68b3cc0567300658f">SwapPause</a>();
<a name="l00580"></a>00580                                 <span class="keywordflow">break</span>;
<a name="l00581"></a>00581                         }
<a name="l00582"></a>00582                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#761df1f9cc4c125b7e6fc32f7fc6eb05">ID_FLOW_INCREASETEMPO</a>: { <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#8baa36d16302380cc916bc78ed18cc10">SetTempo</a>(<a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#e9a29de0daefb0d934742d67fd0cbc58">GetTempo</a>()+<a class="code" href="main_8cpp.html#4459f142c076eeba4121a567874bb522">fTempoDelta</a>); <span class="keywordflow">break</span>; }
<a name="l00583"></a>00583                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#db32295e643f45070ceaa0ba7ef4457e">ID_FLOW_DECREASETEMPO</a>: { <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#8baa36d16302380cc916bc78ed18cc10">SetTempo</a>(<a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#e9a29de0daefb0d934742d67fd0cbc58">GetTempo</a>()-<a class="code" href="main_8cpp.html#4459f142c076eeba4121a567874bb522">fTempoDelta</a>); <span class="keywordflow">break</span>; }
<a name="l00584"></a>00584                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#67ec016d500c4e8a260aac7c25e014c5">ID_FLOW_SETTOSLOW</a>: { <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#8baa36d16302380cc916bc78ed18cc10">SetTempo</a>(<a class="code" href="main_8cpp.html#4459f142c076eeba4121a567874bb522">fTempoDelta</a>); <span class="keywordflow">break</span>; }
<a name="l00585"></a>00585                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#a50ac3958afc586858ef072657cb5d82">ID_FLOW_SETTOFAST</a>: { <a class="code" href="main_8cpp.html#a3e48e3d44398e74eb83d15248285848">g_algManager</a>-&gt;<a class="code" href="classCAlgManager.html#8baa36d16302380cc916bc78ed18cc10">SetTempo</a>(<a class="code" href="main_8cpp.html#4459f142c076eeba4121a567874bb522">fTempoDelta</a>*12); <span class="keywordflow">break</span>; }
<a name="l00586"></a>00586                 <span class="keywordflow">case</span> <a class="code" href="resource_8h.html#e175225c71f50ea7932bf7704658f0af">ID_HELP_ABOUT</a>: {
<a name="l00587"></a>00587                                 MessageBox(NULL, <span class="stringliteral">"Created by Bart \"Fen\" Filipek\n9th April 2006"</span>, <span class="stringliteral">"Info"</span>, MB_OK | MB_ICONQUESTION);
<a name="l00588"></a>00588                                 <span class="keywordflow">break</span>;
<a name="l00589"></a>00589                         }
<a name="l00590"></a>00590         }
<a name="l00591"></a>00591 
<a name="l00592"></a>00592         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00593"></a>00593 }
<a name="l00594"></a>00594 
<a name="l00595"></a><a class="code" href="main_8cpp.html#8e8b62866f82f676bfd492cd6a2f94db">00595</a> <span class="keywordtype">bool</span> <a class="code" href="main_8cpp.html#8e8b62866f82f676bfd492cd6a2f94db">OnExit</a>() {
<a name="l00596"></a>00596         <span class="keywordflow">if</span> (MessageBox(NULL, <span class="stringliteral">"Do you really want to exit?"</span>, <span class="stringliteral">"Exit?"</span>, MB_YESNO | MB_ICONQUESTION) == IDYES)
<a name="l00597"></a>00597                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00598"></a>00598 
<a name="l00599"></a>00599         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00600"></a>00600 }
<a name="l00601"></a>00601 
<a name="l00602"></a>00602 <span class="comment">// end of file ----------------------------------------------------------------+</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Apr 10 17:03:24 2006 for ViAlg by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO </small></address>
</body>
</html>
